<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Day 9 Part 1</title>
     <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/scripts.js"></script>
    <script src="js/navbar.js"></script>
</head>
<body>
<nav id="myJS2Nav" class="navbar navbar-inverse"></nav>        
Day 9: Error Catching
<ul>
	<li>Try, Catch, Err
        <ul>
            <li><xmp>When an error occurs, JavaScript will normally stop, and generate an error message.

The technical term for this is: JavaScript will throw an error. We can "catch" these errors and "handle" them.

Definitions:
The try statement: tests a block of code for errrors
The catch statement: will allow to perform actions based on and errors (error handling).
The throw statement: allows you to create custom errors.
The finally statement: will execute code, after try and catch, regardless of any errors.

</xmp> <hr/>
<xmp>
Try and catch:

<!DOCTYPE html>
<html>
<body>

<p id="output"></p>

<script>
try {
    myFunction("Hello World!");
}

//err is the error object
catch(err) {
    document.getElementById("output").innerHTML = err.message;
}
</script>

</body>
</html>
</xmp> <hr/>
<xmp>
We can create our own error messages and we can manually throw and error:

<!DOCTYPE html>
<html>
<body>

<p>Please input a number between 4 and 9:</p>

<input id="demo" type="text">
<button type="button" onclick="myFunction()">Test Input</button>
<p id="output"></p>

<script>
function myFunction() {
    var output, x;
    output = document.getElementById("output");
    output.innerHTML = "";
    x = document.getElementById("demo").value;
    try { 
        if(x == "")  throw "empty";
        if(isNaN(x)) throw "not a number";
        x == Number(x);
        if(x < 4)    throw "too low";
        if(x > 9)   throw "too high";
    }
    catch(err) {
        output.innerHTML = "Input is " + err;
    }
}
</script>

</body>
</html>
</xmp> <hr/>
<xmp>
The the error object has multiple parts and there are different types:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error

//We are using e instead of err. We can name the error anything we wish. 
try {
  foo.bar();
} catch (e) {
  if (e instanceof EvalError) {
    alert(e.name + ': ' + e.message);
  } else if (e instanceof RangeError) {
    alert(e.name + ': ' + e.message);
  }
  // ... etc
}

//We can also test our first example's error type by changing the code to:
document.getElementById("output").innerHTML = x.name;
</xmp> <hr/>
<xmp>
We can create a new error object, that prototypally inherits from the Error constructor:

function MyError(message) {
  this.name = 'MyError';
  this.message = message || 'Default Message';
}
MyError.prototype = Object.create(Error.prototype);
MyError.prototype.constructor = MyError;

try {
  throw new MyError();
} catch (e) {
  console.log(e.name);     // 'MyError'
  console.log(e.message);  // 'Default Message'
}

try {
  throw new MyError('different message');
} catch (e) {
  console.log(e.name);     // 'MyError'
  console.log(e.message);  // 'different message'
}         
</xmp> <hr/>
<xmp>
Our final command will execute if there is an error or not:

try { 
    x = Number(x);
    if(x == "")  throw "is empty";
    if(isNaN(x)) throw "is not a number";
    if(x > 10)   throw "is too high";
    if(x < 5)    throw "is too low";
}
catch(err) {
    message.innerHTML = "Input " + err;
}
finally {
    document.getElementById("demo").value = "";
}


</xmp>            </li>        </ul>

        </ul>
    </li>
    <li>Functions
    </li>
</ul>

<ol><b>Coding Challenge</b><br/>
    <li>First Challenge: Make some JS that will break and output that error (name and message) to the dom</br>
    <li>Second Challenge: Make your own throw message and output that message to the dom</br>
    <li>Third Challenge: Make your own error object and output that message to the dom</br>
</ol>
</body>
</html>
